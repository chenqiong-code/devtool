# devtool network panel -耐心点、事情会变的简单

## 背景思考
我类比网站为一个人，我们利用浏览器访问网站时，其实就是认识一个人，最重要的是这个你想认识的人，其实是它想让你认识的那一副面孔，只有server哪里才存在着这个人的完全真实面目、你可以认为server才是那个真正的人，浏览器端是我们在生活中认识不同人的时候他们给我们的面孔，这里说的server统称为存放网站资源的地方，包含cdn，代理服务器等。不知道这样的类比、能不能让大家带入。而network就是在我们认识这个人的时候，这个人的实体以及他与我们的沟通，实体你可以认为这个人见到对于不同人表现的穿着打扮，发型等，而与我们的沟通方式则是与不同人的说话语气以及内容。这样我们了解了network其实就是网站针对不同用户的资源以及接口信息。那我们能从中了解到什么呢？再回到类比的场景中，我们可以获得对于这个人的第一印象，我们知道了这个人的穿着打扮的协调性、这个人的说话表达的语气等，判断出这个人的外在特征与说话方式的关系。那么我们会通过network来了解资源之间的相互关系，了解这个网站与特定用户的信息交换的目的性，判断它的资源与信息交换的关系。
下面就让我们试着利用network调试贴吧的首页看一下具体的情况。

## network panel
调试贴吧的首页、让我们从上面的背景思考结合network现有的功能去实际操作。
### 资源实体的了解
![image](https://user-images.githubusercontent.com/62834754/132018276-880ed28a-004b-4f1c-9b5d-8f17f9bed610.png)
我习惯性的打开network setting中的use large request rows、show overivew、capture screenshots。
![image](https://user-images.githubusercontent.com/62834754/132020712-1a34fdc6-bcd1-428f-9a53-524df7f37e16.png)
👆这张图片展示了我们在下载资源的时候通常在等待请求资源的时间比较多、在贴吧首页我们看到几乎所有的请求的实际下载Content Download的时间及其短暂、在Time列展示的时间里、上面是这个请求从调度发起到收到响应结束的时间、而下面展示的是上面的时间减去Content Download的时间。这并不是贴吧的服务器太慢、几乎所有的网站都是如此、这就是网络战胜距离所要付出的代价。这也提醒我们要尽量少发请求、为什么要把多个请求合并到一个中的原因也因此显而易见，就像下面贴吧首页所做的那样。
![image](https://user-images.githubusercontent.com/62834754/132021970-1493865a-8828-4baa-825c-2a9ac7ee2cce.png)
我看到它总共发起了113个请求、这种情况不知是多还是少、对比reddit（被称为国外的贴吧）的200多个请求、我不能说贴吧首页就是好的、因为Reddit已经集成了web应用的很多最新功能、在这方面贴吧落后太多。

下面就是依次介绍下面这张图片中大家主要会用到的列展示(只讨论可能会引起争议的)

![image](https://user-images.githubusercontent.com/62834754/132024391-54e11307-57b9-403f-9194-c31aaef7e2f6.png)
- type 在Google开发者工具文档中表示的是接受资源的MIME类型、这里可能在判断的时候是结合request Accept与response中的content-type两者相结合进行判断的。
- initiator 表示这条请求发起的经过的路径，如果这条请求是经过js文件发起的，它还会显示在js文件中的调用栈，这里面的东西对于进一步调试是至关重要的，我们可以找到一些事情发生的缘由、而不仅仅是获得资源
- size 上面显示的是在网络中传输包的大小、下面的显示获得http response的大小。
- Set cookies 显示了该请求设置了cookie的数量
- Cookie 该请求携带的cookie数量
- Protocol 协议名 现在的网络情况多为http 1.1 
- schema 显示url中协议部分的名称https/http
- connection id 显示http链接的标识、你可以查看是否一个链接被多次复用，如果协议列显示 h2，则浏览器可以为多个并发请求重用相同的连接
- 
